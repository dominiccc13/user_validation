<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <p>Your email has not been verified. Click the link in your email to verify, or request a new one.</p>
    <input type="email" name="email" placeholder="Enter your email..." />
    <p id="status"></p>
    <button id="resend-btn">Resend Verification</button>
    <a href="/wwwroot/login.html">Login</a>
</body>
</html>

<script>
    const resendBtn = document.getElementById('resend-btn');
    resendBtn.addEventListener('click', () => {
        document.getElementById('status').innerText = '';
        const username = document.getElementById('email').value;
        fetch(`http://localhost:7023/verify?username=${username}&resend=true`)
            .then(res => {
                if (res.ok) {
                    document.getElementById('status').innerText = 'Verification email resent.';
                } else {
                    document.getElementById('status').innerText = 'Something went wrong. Please try again later.';
                }
            });
    });
</script>